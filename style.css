/* --- TABLE OF CONTENTS ---
1. Root Variables & Global Resets
2. Typography & Utility Classes
3. Header & Navigation
4. Main Section Styles
5. Home (Hero) Section
6. Research Section
7. Publications Section
8. Blog Section
9. Contact Section
10. Footer
11. Responsive Design (Media Queries)
12. Modal Styles
13. CV Section Styles
*/

/* 1. Root Variables & Global Resets */
:root {
    --primary-green: #4A7C59;
    --primary-green-darker: #3a6247;
    --dark-text: #333333;
    --light-bg: #FFFFFF;
    --secondary-bg: #f9f9f9;
    --border-color: #e0e0e0;
    --shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    --font-heading: 'Montserrat', sans-serif;
    --font-body: 'Lato', sans-serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-body);
    line-height: 1.7;
    color: var(--dark-text);
    background-color: var(--light-bg);
}

/* 2. Typography & Utility Classes */
h1, h2, h3 {
    font-family: var(--font-heading);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1rem;
}

h1 {
    font-size: 3rem;
    color: var(--dark-text);
}

h2 {
    font-size: 2.25rem;
    text-align: center;
    margin-bottom: 3rem;
    color: var(--dark-text);
}

h3 {
    font-size: 1.25rem;
    color: var(--primary-green);
}

p {
    margin-bottom: 1rem;
}

a {
    color: var(--primary-green);
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: var(--dark-text);
}

.container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 20px;
}

/* 3. Header & Navigation */
header {
    background-color: var(--light-bg);
    box-shadow: var(--shadow);
    padding: 1rem 0;
    position: sticky;
    top: 0;
    z-index: 1000;
    width: 100%;
}

header .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    height: 50px;
    width: auto;
}

nav ul {
    list-style: none;
    display: flex;
}

nav li {
    margin-left: 2rem;
}

nav a {
    color: var(--dark-text);
    font-weight: 700;
    font-family: var(--font-heading);
    padding: 0.5rem 0;
    border-bottom: 2px solid transparent;
    transition: color 0.3s ease, border-color 0.3s ease;
}

nav a:hover, nav a.active {
    color: var(--primary-green);
    border-bottom-color: var(--primary-green);
}

/* 4. Main Section Styles */
section {
    padding: 5rem 0;
}

/* CORRECTED: This rule now properly maintains the alternating pattern */
#cv, #publications, #resources {
    background-color: var(--secondary-bg);
}

/* 5. Home (Hero) Section */
#home {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: calc(100vh - 82px); /* Full height minus header */
    padding: 2rem 0;
}

.hero-content {
    max-width: 800px;
}

.subtitle {
    font-size: 1.5rem;
    font-weight: 600;
    font-family: var(--font-heading);
    color: #555;
    margin: 1rem 0;
}

.bio {
    font-size: 1.1rem;
    max-width: 700px;
    margin: 0 auto;
}

/* 6. Research Section */
/* New wrapper for research carousel */
.research-carousel-wrapper {
    position: relative;
    margin: 0 auto;
    max-width: 1100px; /* Match container width */
    padding: 0 50px; /* Space for arrows */
}

.research-grid {
    display: flex; /* Change from grid to flexbox */
    overflow-x: scroll; /* Enable horizontal scrolling for JS control */
    gap: 2rem; /* Provides spacing between research cards */
    padding-bottom: 0; /* Remove padding if scrollbar is hidden */
    scroll-snap-type: x mandatory; /* Optional: for snapping behavior */
    -webkit-overflow-scrolling: touch; /* Optional: for smoother scrolling on iOS */

    /* Hide scrollbar for various browsers */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* IE and Edge */
}

/* Hide scrollbar for Webkit browsers (Chrome, Safari, Edge) */
.research-grid::-webkit-scrollbar {
    display: none; /* Hide the scrollbar */
}

.research-card {
    flex: 0 0 auto; /* Prevent cards from shrinking/growing, maintain width */
    width: 300px; /* Explicit width for each card, matching original minmax */
    background-color: var(--light-bg);
    padding: 2rem;
    border-radius: 8px;
    border-left: 5px solid var(--primary-green);
    box-shadow: var(--shadow);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    scroll-snap-align: start; /* Align items to the start of the scroll container */
}

.research-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
}

/* 7. Publications Section */
.publication-list {
    list-style: none;
    max-width: 800px;
    margin: 0 auto;
}

.publication-list li {
    padding: 1.5rem 0;
    border-bottom: 1px solid var(--border-color);
}

.publication-list li:last-child {
    border-bottom: none;
}

.pub-link {
    font-weight: 700;
    margin-left: 0.5rem;
    white-space: nowrap;
}

/* 8. Blog Section */
/* New wrapper for carousel functionality */
.blog-carousel-wrapper {
    position: relative; /* For absolute positioning of arrows */
    margin: 0 auto; /* Center the wrapper */
    max-width: 1100px; /* Match container width for alignment */
    padding: 0 50px; /* Add padding for arrows not to overlap content initially */
}

.blog-grid {
    display: flex; /* Flexbox for horizontal layout */
    overflow-x: scroll; /* Keep scroll behavior for JS control */
    gap: 2rem; /* Spacing between blog posts */
    padding-bottom: 0; /* Remove padding if scrollbar is hidden */
    scroll-snap-type: x mandatory; /* Optional: for snapping behavior */
    -webkit-overflow-scrolling: touch; /* Optional: for smoother scrolling on iOS */
    
    /* Hide scrollbar for various browsers */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* IE and Edge */
}

/* Hide scrollbar for Webkit browsers (Chrome, Safari, Edge) */
.blog-grid::-webkit-scrollbar {
    display: none; /* Hide the scrollbar */
}

.blog-post {
    flex: 0 0 auto; /* Prevent items from shrinking, allow them to grow based on content */
    width: 320px; /* Explicit width for each blog post */
    background: var(--light-bg);
    border-radius: 8px;
    box-shadow: var(--shadow);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    scroll-snap-align: start; /* Align items to the start of the scroll container */
}

.blog-post:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
}

.blog-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

.blog-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Makes cards in the same row equal height */
}

.post-meta {
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 1rem;
}

.post-meta i {
    margin-right: 0.5rem;
    color: var(--primary-green);
}

.read-more-btn {
    display: inline-block;
    background-color: var(--primary-green);
    color: var(--light-bg);
    padding: 0.6rem 1.2rem;
    border-radius: 5px;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.8rem;
    align-self: flex-start; /* Aligns button to the left */
    margin-top: auto; /* Pushes button to the bottom */
    transition: background-color 0.3s ease;
}

.read-more-btn:hover {
    background-color: var(--primary-green-darker);
    color: var(--light-bg);
}

/* Carousel Arrow Styles - Applied universally to all carousel arrows */
.carousel-arrow {
    position: absolute;
    top: 50%; /* Center vertically */
    transform: translateY(-50%); /* Adjust for perfect vertical centering */
    background-color: rgba(74, 124, 89, 0.8); /* Primary green with some transparency */
    color: var(--light-bg);
    border: none;
    padding: 1rem 0.8rem;
    cursor: pointer;
    z-index: 10; /* Ensure arrows are above content */
    font-size: 1.5rem;
    border-radius: 50%; /* Make them circular */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
    box-shadow: var(--shadow); /* Add a subtle shadow */
}

.carousel-arrow:hover {
    background-color: var(--primary-green-darker);
    transform: translateY(-50%) scale(1.05);
}

.carousel-arrow:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: rgba(74, 124, 89, 0.4);
}

.left-arrow {
    left: 0; /* Position left arrow to the left edge of the wrapper */
}

.right-arrow {
    right: 0; /* Position right arrow to the right edge of the wrapper */
}


/* 9. Contact Section */
#contact .container {
    text-align: center;
    max-width: 700px;
}

.contact-links {
    margin-top: 2rem;
}

.contact-links a {
    color: var(--dark-text);
    font-size: 2rem;
    margin: 0 1rem;
    transition: color 0.3s ease, transform 0.3s ease;
}

.contact-links a:hover {
    color: var(--primary-green);
    transform: scale(1.1);
}

/* 10. Footer */
footer {
    background-color: var(--dark-text);
    color: #ccc;
    text-align: center;
    padding: 1.5rem 0;
}

footer p {
    margin-bottom: 0;
    font-size: 0.9rem;
}

/* 11. Responsive Design (Media Queries) */
@media (max-width: 768px) {
    h1 {
        font-size: 2.5rem;
    }

    h2 {
        font-size: 1.75rem;
    }

    header .container {
        flex-direction: column;
        gap: 1rem;
    }
    
    nav ul {
        padding: 0;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.5rem;
    }

    nav li {
        margin: 0 0.5rem;
    }

    section {
        padding: 3rem 0;
    }

    #home {
        min-height: auto;
        padding: 4rem 0;
    }

    .blog-carousel-wrapper,
    .research-carousel-wrapper { /* Apply to both wrappers */
        padding: 0 30px; /* Reduce padding for arrows on smaller screens */
    }
    .carousel-arrow {
        font-size: 1.2rem;
        padding: 0.7rem 0.6rem;
    }
}

@media (max-width: 480px) {
    nav li {
        margin: 0 0.25rem;
    }
    
    nav a {
        font-size: 0.9rem;
        padding: 0.5rem;
    }
    /* The flexbox approach for carousels naturally handles smaller screens by scrolling */
}

/* 12. Modal Styles */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1001; /* Sit on top (higher than header) */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
    justify-content: center;
    align-items: center;
    padding: 20px; /* Padding around the modal content */
}

.modal-content {
    background-color: var(--light-bg);
    margin: auto; /* Center the modal vertically and horizontally */
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 90%; /* Adjust as needed */
    max-width: 700px; /* Max width for readability */
    position: relative;
    animation: fadeIn 0.3s ease-out; /* Optional fade-in animation */
    max-height: 90vh; /* Limit height to viewport height */
    overflow-y: auto; /* Enable scrolling for modal content */
}

.close-button {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
}

.close-button:hover,
.close-button:focus {
    color: var(--dark-text);
    text-decoration: none;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 768px) {
    .modal-content {
        width: 95%;
        margin: 20px auto; /* Adjust margin for smaller screens */
    }
}

/* 13. Styles for new CV Section */
.cv-download-btn {
    display: inline-block;
    background-color: var(--primary-green);
    color: var(--light-bg);
    padding: 1rem 2rem;
    border-radius: 5px;
    font-weight: 700;
    font-family: var(--font-heading);
    text-transform: uppercase;
    font-size: 1rem;
    margin: 1rem 0 3rem 0;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

.cv-download-btn:hover {
    background-color: var(--primary-green-darker);
    color: var(--light-bg);
    transform: translateY(-3px);
}

.cv-download-btn i {
    margin-right: 0.75rem;
}

.cv-highlights {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 4rem;
    text-align: left;
}

.highlight-item h4 {
    font-family: var(--font-heading);
    font-size: 1.1rem;
    color: var(--dark-text);
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
}

.highlight-item ul {
    list-style-position: inside;
    padding-left: 0.5rem;
}

.highlight-item li {
    margin-bottom: 0.5rem;
}

/* --- Appended for new Resources Section --- */

.resource-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.resource-card {
    background: var(--light-bg);
    border-radius: 8px;
    box-shadow: var(--shadow);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.resource-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
}

.resource-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

.resource-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

.resource-link {
    display: inline-block;
    background-color: var(--primary-green);
    color: var(--light-bg);
    padding: 0.7rem 1.4rem;
    border-radius: 5px;
    font-weight: 700;
    font-family: var(--font-heading);
    align-self: flex-start;
    margin-top: auto;
    transition: background-color 0.3s ease;
}

.resource-link:hover {
    background-color: var(--primary-green-darker);
    color: var(--light-bg);
}

.resource-link i {
    margin-left: 0.5rem;
    font-size: 0.9rem;
}

.resource-link.disabled {
    background-color: #aaa;
    cursor: not-allowed;
}

@media (max-width: 480px) {
    .resource-grid {
        grid-template-columns: 1fr;
    }
}